## 第一章 概述
* **计算机网络**：由若干结点和连接这些结点的链路组成。
* **互连网**：网络之间还可以通过路由器互连起来，这就构成了一个覆盖范围更大的计算机网络。
* **internet**: 是一个通用名词，它泛指由多个计算机网络互连而成的网络 。
* **Internet**: 是一个专用名词，它指当前全球最大的、开放的、由众多网络相互连接而成的特定互连网，它采用 TCP/IP  协议族作为通信的规则，且其前身是美国的 ARPANET 。
* **互连网的组成**：边缘部分、核心部分
    * 边缘部分：由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。
    * 核心部分：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。
* **端系统的通信方式：C/S方式、P2P方式** 
    * C/S方式：
    客户-服务端方式 。 
    客户端和服务器都是指通信中所涉及的两个应用进程 。 
    客户是服务请求方 ， 服务器是服务提供方 。 
    * P2P 方式：
    对等连接方式
    只要两台主机都运行了对等连接软件，它们就可以进行平等的、对等链接通信。
* **电路交换、报文交换与分组交换的主要特点**。
    * 电路交换
    建立连接 --> 通话 --> 释放连接  。 
    在通话的全部时间 ， 通话的两个用户始终占用端到端的通信资源 。
    当使用电路交换来传送计算机数据时，其线路的传输效率往往很低。这是因为计算机数据是突发式地出现在传输线路上的，因此线路上真正用来传送数据的时间往往不到 10% 甚至 1% 。已被用户占用的通信线路资源在绝大部分时间里都是空闲的。
    整个报文的比特流连续地从源点直达终点，好像在一个管道中传送。
    * 报文交换
    整个报文先传送到相邻结点，全部存储下来后查找转发表，转发到下一个结点。
    * 分组交换
    单个分组（这只是整个报文的一部分）传送到相邻结点，存储下来后查找转发表，转发到下一个结点。
    高效、灵活、迅速、可靠
* **计算机网络的分类**：
    * 按照网络的作用范围进行分类：
        * 广域网 WAN : 广域网的作用范围通常为几十到几千公里，因而有时也称为远程网。
        * 城域网 MAN : 城域网的作用范围一般是一个城市，可跨域几个街区甚至整个城市，其作用距离约为 5 ~ 50 km 。
        * 局域网 LAN ：局域网一般用微型计算机或工作站通过高速通信线路相连，但地理上则局限在较小的范围。一般为校园网或企业网
        * 个人区域网 PAN ：个人区域网就是在个人工作的地方把属于个人使用的电子设备用无线技术连接起来的网络。
    * 按照网络的使用者进行分类：
        * 公用网：这是指电信公司出资建造的大型网络 。 愿意按电信公司的规定交纳费用的人都可以使用这种网络 。 
        * 专用网：这是某个部门为满足本单位的特殊业务工作的需要而建造的网络 。如：军队、银行、电力等系统均有本系统的专用网。
* **时延**: 排队时延 、 处理时延 、 发送时延（传输时延） 、传播时延
* **网络协议三要素及其含义：语法、语义、同步** 
    * 语法：即数据与控制信息的结构或格式；
    * 语义：即需要发出何种控制信息，完成何种动作以及做出何种响应；
    * 同步：即事件实现顺序的详细说明
* 五层协议体系结构：
    * **应用层**：应用层的任务是**通过应用进程间的交互来完成特定网络应用**。应用层协议定义的是**应用进程间通信和交互的规则** 。 在互联网中的应用层协议有：域名系统 DNS ，支持万维网应用的 **HTTP 协议** , 支持电子邮件的 **SMTP 协议**。我们把应用层交互的数据单元成为**报文** 。 
    * **运输层**：运输层的任务就是负责向两台主机中的进程之间的通信提供通用的数据传输服务。运输层有复用和分用的功能。复用就是多个应用层进程可同时使用下面运输层的服务。分用是把收到的信息分别交付上面应用层中的相应进程。主要使用以下两种协议：
        * **传输控制协议 TCP** : 提供面向连接的、可靠的数据传输服务，其数据传输的单位是**报文段**。 
        * **用户数据报协议 UDP** : 提供无连接的、**尽最大努力的**数据传输服务，其数据传输的单位是**用户数据报** 。 
    * **网络层**：网络层负责为分组交换网上的不同主机提供通信服务。在发送数据时，网络层把运输层产生的报文段或用户数据报封装成**分组或包或IP数据报**进行传送。网络层协议是无连接的**网际协议IP** 和 **许多种路由选择协议** 。 
    * **数据链路层**：在两个相邻结点之间传送数据时，数据链路层将网络层交下来的 IP 数据报**组装成帧** ，在两个相邻结点之间的链路上传送**帧**。每一帧包括数据和必要的控制信息（如同步信息、地址信息、差错控制等）。
    * **物理层**：在物理层上所传数据的单位是**比特**。物理层要考虑用多大的电压代表“1” 或 “0” ，以及接收方如何识别出发送方所发送的比特。 

## 第二章：物理层
* **物理层的任务**：
    * 物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。
    * 物理层的主要任务就是确定与传输媒体的接口有关的一些特性，如机械特性、电气特性、功能特性和过程特性。
* 一个数据通信系统可划分为三个大部分，即**源系统**（源点、发送器）、**传输系统**（传输网络）、**目的系统**（接收器、终点）
* 通信的三种基本方式：单工、半双工、双工  P43
    * **单向通信**：又称为单工通信 ， 即只能有一个方向的通信而没有反方向的交互。无线电广播或有线电广播以及电视广播就属于这种类型
    * **双向交替通信**：又称为半双工通信，即通信的双方都可以发送消息，但不能双方同时发送。这种通信方式是一方发送另一方接受，过一段时间后可以再反过来。
    * **双向同时通信**：又称为全双工通信，即通信的双方可以同时发送和接收信息。
* 来自信源的信号常称为**基带信号**，基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量，为了解决这一问题，就必须对基带信号进行**调制** 。 
    * **基带调制**：把数字信号转换成另一种形式的数字信号
    * **带通调制**：把数字信号转换成模拟信号
* **传输媒体**：导引型（双绞线、同轴电缆、光纤）和非导引型（无线电波）
    * **在导引型传输媒体中**，电磁波被导体沿着固体媒体（铜线或光钎）传播。
        * 双绞线
        * 同轴电缆
        * 光钎：通常由非常透明的石英玻璃拉成细丝，主要由纤芯和包层构成双层通信圆柱体。
    * **在非导引型传输媒体**就是指自由空间，在非导引型传输媒体中电磁波的传输常称为无线传输。
        * 地面微波接力
        * 卫星通信
* 信道复用技术：频分复用、时分复用、统计时分复用、波分复用和码分复用
    * **频分复用**：用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带，可见频分复用的所有用户**在同样的时间占用不同的带宽资源**。
    * **时分复用**：所有用户是在不同的时间占用同样的频带宽度。
    * **统计时分复用**：一个使用统计时分复用的集中器连接 4 个低速用户，然后将它们的数据集中起来通过高速线路发送到一个远地计算机。统计复用又称为**异步时分复用**，而普通的时分复用称为同步时分复用。使用统计时分复用的集中器也叫做**智能复用器。**
    * **波分复用**：就是**光的频分复用**。
    * **码分复用**：每个用户可以在同样的时间使用同样的频带进行通信。**由于各用户使用经过特殊挑选的不同码型，因此各用户之间不会造成干扰**。使用 CDMA 的每一个站被指派一个唯一的 m bit 码片序列 。 一个站如果要发送比特 1 ，则发送它自己的 m bit 码片序列，如果要发送比特 0 ，则发送该码片序列的二进制反码。
* 宽带接入技术：ADSL（基于模拟电话用户线的改造）（非对称的含义）、HFC网（基于有线电视网开发）、FTTx（光纤）技术
    * **非对称数字用户线 ADSL** ：用数字技术对现实的模拟电话用户线进行改造，使它能够承载宽带数字业务。
    * **光纤同轴混合网 HFC** ：是在目前覆盖面很广的有线电视网的基础上开发的一种居民宽带接入网，除可传送电视节目外，还能提供电话、数据和其他宽带交互型业务。
    * **FTTx 光纤技术** :多种宽带光钎接入方式，FTTx 表示把光电转换的地方，从用户家中向外延伸到离用户家门口有一定距离的地方。



## 第三章：数据链路层
* **链路**：就是从一个结点到相邻结点的一段物理线路，而中间没有任何其他的交换结点。
* **数据链路**：当需要在一条线路上传送数据时，除了必须有一条物理线路外，还必须有一些必要的通信协议来控制这些数据的传输，若把实现这些协议的硬件和软件加在链路上，就构成了数据链路。
* 数据链路层的三个基本问题
    * **封装成帧**：就是在一段数据的前后分别添加首部和尾部，这样就构成了一个帧。
    * **透明传输**：表示无论什么样的比特组合的数据，都能够按照原样没有差错地通过这个数据链路层。     帧使用首部和尾部进行定界，如果帧的数据部分含有和首部尾部相同的内容，那么帧的开始和结束位置就会被错误的判定。需要在数据部分出现首部尾部相同的内容前面插入转义字符。如果数据部分出现转义字符，那么就在转义字符前面再加个转义字符。在接收端进行处理之后可以还原出原始数据。这个过程透明传输的内容是转义字符，用户察觉不到转义字符的存在。
    * **差错检测**：目前数据链路层广泛使用了循环冗余检验（CRC）来检查比特差错 ，模二运算。
* CRC差错检测技术原理 P75
* PPP协议的特点。P108
    * 简单
    * 只检差错，而不是纠正错误
    * 不使用序号，也不进行流量控制
    * 可同时支持多种网络层协议
    * 字节填充
        把信息字段中出现的每一个 0x7E 字节转变成为 2 字节序列（0x7D、0x5E）
        把信息字段中出现的每一个 0x7D 字节转变成为 2 字节序列（0x7D、0x5D）
        若信息字段中出现 ASCII 码的控制字符（即数值小于 0x20 的字符) ， 则在字符前面要加入一个 0x7D 字节，同时将该字符的编码加以改变。例如，出现 0x03 就要把它转变为 2 字节序列（0x7D , 0x23）。
    * 零比特填充
        只要发现有 5 个 1 ，则立即填入一个  0 ，因此经过这种零比特填充后的数据，就可以保证在信息字段中不会出现 6 个连续 1  。
    这样就保证了透明传输：在所传送的数据比特流中可以传送任意组合的比特流，而不会引起对帧边界的错误判断。
* 局域网的特点与优点 P82
    * 特点：网络为一个单位所拥有，且地理范围和站点数目均有限。
    * 优点：
        * 具有广播功能，从一个站点可很方便地访问全网。局域网上的主机可共享连接在局域网上的各种硬件和软件资源 。 
        * 便于系统的扩展和逐渐演变，各设备的位置可灵活调整和改变。
        * 提高了系统的可靠性、可用性和生存性 。

* 共享通信媒体资源的两种方法P83
    * 静态划分信道：频分复用、时分复用、波分复用和码分复用等
    * 动态媒体接入控制：它又称为多点接入，其特点是信道并非在用户通信时固定分配给用户。
        * 随机接入：所有的用户可随机地发送消息，如果恰巧有两个或更多的用户在同一时刻发送消息，那么在共享媒体上就要产生碰撞。因此必须有解决碰撞的网络协议。
        * 受控接入：在局域网中使用的较少。
* **适配器** : 计算机与外界局域网的连接就是通过适配器进行的
* 计算机的硬件地址就在适配器的 ROM 中， 而计算机的软件地址----IP 地址 ， 则在计算机的存储器中。
* **CSMA/CD协议及其要点**P109
    * 多点接入：说明这是总线型网络，许多计算机以多点接入的方式连接在一根总线上。
    * 载波监听：不管在发送前，还是在发送中，每个站都必须不停地检测信道。在发送前，如果监听到信道正在使用，就必须等待。
    * 碰撞检测：在发送中，如果监听到信道已有其它主机正在发送数据，就表示发生了碰撞。虽然每个主机在发送数据之前都已经监听到信道为空闲，但是由于电磁波的传播时延的存在，还是有可能会发生碰撞。
    * 电磁波在 1 km 电缆的传播时延约为 5 us 
    * 在使用 CSMA/CD 协议时，一个站不可能同时进行发送和接受（但必须边发送边监听信道），因此使用 CSMA/CD 协议的以太网不可能进行全双工通信而只能进行双向交替提醒（半双工通信）
    * 以太网的争用期确定为 51.2 us 
    * 以太网规定了一个最短帧长 64 字节，即 512 bit ， 如果要发送的数据非常少，那么必须加入一些填充字节，是帧长不少于 64 字节，对于 10 Mbit/s 以太网，发送 512 bit 的时间需要 51.2 us ，也就是争用期。
    * 凡是长度小于 64 字节的帧都是由于冲突而异常中止的无效帧。
    * 强化碰撞：就是当发送数据的站一旦发现发生了碰撞时，除了立即停止发送数据外，还要再继续发送 32 比特或 48 比特的人为干扰信号，以便让所有用户都知道现在已经发生了碰撞。
    * 以太网还规定了帧间最小间隔为 9.6 us , 相当于 96 比特时间，为了使刚刚到数据帧的站的接受缓存来得及清理，做好接收下一帧的准备。
* **VLAN**：使用以太网交换机实现虚拟局域网、VLAN定义、VLAN是一种服务，不是一种新型网络 （P101）
* 虚拟局域网 VLAN 是由一些局域网网段构成的与物理位置无关的逻辑组，而这些网段具有某些共同的需求。每一个 VLAN 的帧都有一个明确的标识符，指明发送这个帧的计算机属于哪一个 VLAN 。


## 第四章：网络层
* 网络层提供的两种服务
    * 网络层向上只提供简单的、灵活的、无连接的、尽最大努力交付的数据报服务。
    * 网络层不提供服务质量的承诺
* 分类的 IP 地址
    * A 类（固定 0 ）：
        * 网络号字段为全 0 的 IP 地址是个保留地址，意思是“本网络”
        * 网络号为 127 （即01111111）保留作为本地软件环回测试本主机的进程之间的通信。
        * 目的地址为环回地址的 IP 数据报永远不会出现在任何网络上，因为网络号为 127 的地址根本不是一个网络地址。
        * 主机号全 0 的主机号字段表示该 IP 地址是 “本主机”所连接到的单个网络地址，而全 1 表示“所有的",因而全 1 的主机号字段表示该网络上的所有主机 。
    * B 类（固定 10）：
        * 不存在网络号总数减 2 的问题，但实际上 B 类网络地址 128.0.0.0 是不指派的，而可以指派的 B 类最小网络地址是 128.1.0.0
        * 主机号还是要减去全 0 和 全 1 的主机号
    * C 类（固定 110）
        * C 类网络地址 192.0.0.0 也是不指派的，可以指派的 C 类最小网络地址是 192.0.1.0
        * 主机号还是要减去全 0 和 全 1 的主机号
    * D 类（固定 1110 ）多播地址
    * E 类（固定 1111 ）保留为今后使用
* 用转发器或网桥连接起来的若干个局域网仍为一个网络
* 路由器总是具有两个或两个以上的 IP 地址 ，即路由器的每一个接口都有一个不同网络号的 IP 地址 。 路由器同时连接到两个局域网上，因此它有两个硬件地址。
* ARP协议概念及特点（ IP 数据报 找 MAC 地址）
* ARP 协议的用户是为了从网络层使用的 IP 地址，解析出在数据链路层使用的硬件地址。
* ARP 高速缓存 ， 里面有本局域网上的各主机和路由器的 IP 地址到硬件地址的映射表。
* 映射表里面没有 MAC 就广播， ARP 请求分组是广播发送的，但 ARP 响应分组是普通的单播，即从一个源地址发送到一个目的地址。
* ARP 是解决同一个局域网上的主机或路由器的 IP 地址和硬件地址的映射问题。
* 为什么我们要使用抽象 IP 地址：
    * 答： 由于全世界存在着各式各样的网络，它们使用不同的硬件地址。要使这些异构网络能够互相通信就必须进行非常复杂的硬件地址转换工作，因此由用户或用户主机来完成这项工作几乎是不可能的事，但 IP 编制把这个复杂问题解决了，连接到互联网的主机只需各自用户一个唯一的 IP 地址 ，它们之间的通信就像连接在同一个网络上那样简单方便。
* 在 IP 层下面的每一种数据链路层协议都规定了一个数据帧中的数据字段的最大长度，这称为最大传送单元 MTU 。当一个 IP 数据报封装成链路层的帧时 ， 此数据报的总长度一定不能超过下面的数据链路层所规定的 MTU 。例如：常用的以太网就规定其 MTU 值是 1500 字节，若所传送的数据报长度超过数据链路层的 MTU 值，就必须把过长的数据报进行分片处理。
* IP 协议规定，在互联网中所有的主机和路由器，必须能够接受长度不超过 576 字节的数据报。这是假定上层交下来的数据长度有 512 字节，加上最长的 IP 首部 60 字节，再加上 4 字节的富余量，就得到 576 字节。当主机需要发送长度超过 576 字节的数据报时，应当先了解一下，目的主机能否接受所要发送的数据报长度，否则，就要进行分片。
* IP 数据报中首部中的
    * 标志字段：
        * 最低位记为： MF ，MF = 1 即表示后面”还有分片“的数据报
        * 中间记为 ： DF ，意思是”不能分片”，只有当 DF = 0 时，才允许分片 。 
    * 片偏移：
        * 片偏移以 8 个字节为偏移单位，也就是说，除最后一个数据报片外，每个分片的长度一定是 8 字节（64）的整数倍。

* 划分子网：
    * IP 地址 ::= { <网络号> , <子网号> , <主机号>}
* 构造超网（消除传统的 A 类 、 B 类 、C 类）
    * IP 地址 ::= { <网络前缀>,<主机号> } 
* 最长前缀匹配（二叉搜索查找路由表）
* ICMP协议特点
    * ICMP 允许主机或路由器报告差错情况和提供有关异常情况的报告。
    * ICMP 报文是装在 IP 数据报中，作为其中的数据部分。
    * ICMP 报文的种类有两种：
    * ICMP 差错报告报文
        * 3 ： 终点不可达
        * 11 ： 时间超过
        * 12 ：参数问题
        * 5   ：改变路由（Redirect） 
    * ICMP 询问报文
        * 8  或 0 ：回送请求 或 回答
        * 13 或 14：时间戳请求 或 回答
    * 网络路由选择协议
        * 内部网关协议 IGP ： 具体的协议有：RIP 、 OSPF 等
        * 外部网关协议 EGP ： 目前使用的协议就是 BGP 。
* RIP协议（重点）：是一种分布式的基于距离向量的路由选择协议，其最大的优点就是简单。
    * 距离：从一路由器到直接连接的网络的距离定义为 1 ， 从一路由器到非直接连接的网络的距离定义为所经过的路由器加 1 。 RIP 允许一条路径最多只能包含 15 个路由器。
    * 一个 RIP 报文最多包括 25 个路由，因而 RIP 报文的最大长度是 4 + 20*25 = 404 字节，如超过，必须再用一个 RIP 报文来传送。
    * 特点
        * 仅和相邻路由器交换信息 。 
        * 路由器交换的信息是当前本路由器所知道的全部信息，即自己现在的路由表 。 
        * 按固定的时间间隔交换路由信息 。
    * 缺点：
        * 当网络出现故障时，要经过比较长的时间才能将此消息传送到所有的路由器
        * RIP 限制了网络的规模 ，它能使用的最大距离为 15 
        * 路由器之间交换的路由器中的完整路由表，因而随着网络规模的扩大，开销也就增加。
        * 好消息传播的快，而坏消息传播得慢
    * 优点：实现简单，开销较小。
* OSPF协议基本特点
    * OSPF 最主要的特征就是使用分布式的链路状态协议，而不是像 RIP 那样的距离向量协议。
    * 和 RIP 协议相比 ， OSPF 的三个要点和 RIP 的都不一样
    * OSPF 协议向本自治系统中所有路由器发送消息 ， 这里使用的方法是洪泛法，这就是路由器通过所有输出端口向所有相邻的路由器发送消息，而每一个相邻路由器又再将此信息发往其所有的相邻路由器（但不再发送给刚刚发来信息的那个路由器）。RIP 协议是仅仅向自己相邻的两个路由器发送消息。
    * 发送的消息就是与本路由器相邻的所有路由器的链路状态，但这只是路由器所知道的部分信息。所谓的“链路状态”就是说明本路由器都和那些路由器相邻，以及该链路的“度量”，OSPF 将这个“度量”用来表示费用、距离、时延、带宽，等等。 对于 RIP 协议，发送的信息是：“到所有网络的距离和下一跳路由器” 。 
    * 只有当链路状态发生变化时 , 路由器才向所有路由器用洪泛法发送此消息。而不像 RIP 那样 ， 不管网络拓扑有无发送变化，路由器之间都要定期交换路由表的信息。
    * 由于个路由器之间频繁地交换链路状态信息，因此所有的路由器最终都能建立一个链路状态数据库，这个数据库实际上就是全网的拓扑结构图。
* OSPF 还具有下列的一些特点：
    * OSPF 允许管理员给每条路由指派不同的代价。OPSF 对于不同类型的业务可计算出不同的路由
    * 如果到同一目的网络有多条相同代价的路径，那么可以将通信量分配给这几条路径。
    * 所有在 OSPF 路由器之间交换的分组（例如：链路状态更新分组）都具有鉴别的功能，因而保证了仅在可信赖的路由之间交换链路状态信息。
    * OSPF 支持可变长度的子网划分和无分类的编址 CIDR 
    * 由于网络中的链路状态可能经常发生变化，因此 OSPF 让每一个链路状态都带上 32 位的序号，序号越大状态就越新 。 OSPF 规定，链路状态序号增长的速率不得超过每 5 秒钟  1 次 。 这样，全部序号空间在 600 年内不会产生重复号
* OSPF 的五种分组类型 ， OSPF 规定，每两个相邻路由器每隔 10 秒钟要交换一次问候分组， 这样就能确知那些邻站是可达的。其他的四种分组都是用来进行链路状态数据库的同步。
    * 类型 1 ： 问候分组 ， 用来发现和维持邻站的可达性
    * 类型 2 ： 数据库描述分组 ， 向邻站给出自己的链路状态数据库中的所有链路状态项目的摘要信息。
    * 类型 3 ： 链路状态请求分组 ， 向对方请求发送某些链路状态项目的详细信息。
    * 类型 4 ： 链路状态更新分组 ， 用洪泛法对全网更新链路状态。
    * 类型 5 ： 链路状态确认分组 ， 对链路更新分组的确认 。 
* BGP 四种报文
    * OPEN （打开）报文 ， 用来与相邻的另一个 BGP 发言人建立关系， 使通信初始化
    * UPDATE （更新）报文 ， 用来通知某一路由的信息，以及列出要撤销的多条路由
    * KEEPALIVE （保活）报文 ， 用来周期性地证实邻站的连通性。
    * NOTIFICATION （通知）报文 ， 用来发送检测到的差错 。 
* IPv6基本概念，过渡技术P176
    * 过渡技术
    * 双协议栈
    * 隧道技术

* IP多播基本概念和特点
    * IGMP 协议是让连接在本局域网上的多播路由器知道本局域网上是否有主机参加或退出了某个多播组。
    * 多播转发必须动态地适应多播组成员的变化（这时网络拓扑并未发生变化）
    * 多播路由器在转发多播数据报时，不能仅仅根据多播数据报中的目的地址，而是还要考虑这个多播数据报从什么地方来和要到什么地方去。
    * 多播数据报可以由没有加入多播组的主机发出，也可以通过没有组成员接入的网络。
* 多播路由选择协议：
    * 洪泛和剪除
    * 隧道技术
    * 基于核心的发现技术
* VPN和NAT基本概念 
    * NAT ： 网络地址转换 ， 这种方法需要在专用网连接到互联网的路由器上安装 NAT 软件 ， 装有 NAT 软件的路由器叫做 NAT 路由器 ，它至少有一个有效的外部全球 IP 地址 ， 这样所有使用本地地址的主机在和外界通信时，都要在 NAT 路由器上将其本地地址转换成全球 IP 地址 ， 才能和互联网连接 。 

## 第五章：运输层
* **UDP 概述**
    * UDP 是无连接的 ， 即发送数据之前不需要建立连接 ，因此减少了开销和发送数据之前的时延 。 
    * UDP 使用尽最大努力交付 ， 既不保证可靠交付， 因此主机不需要维护复杂的连接状态表。
    * UDP 是面向报文的 ， 发送方的 UDP 对应用程序交下来的报文 ， 在添加首部后就向下交付 IP 层 。 
    * UDP 没有拥塞控制 ， 因此网络出现的拥塞不会使源主机的发送速率降低 ，这对某些实时应用是很重要的。但当很多的源主机同时都向网络发送高速率的实时视频流时，网络就有可能发生拥塞，结果大家都无法正常接受 。
    * UDP 支持一对一、一对多、多对一和多对对的交互通信。
    * UDP 的首部开销小，只有 8 个字节， 比 TCP 的 20 个字节的首部要短 。 
* **TCP 的主要特点**
    * TCP 是面向连接的运输层协议 。
    * 每一条 TCP 连接只能有两个端点 ， 每一条 TCP 连接只能是 点对点 的 。 
    * TCP 提供可靠交付的服务 ， 通过 TCP 连接传送的数据，无差错、不丢失、不重复，并且按序到达 。 
    * TCP 提供全双工通信 ，TCP 允许通信双方的应用进程在任何时候都能发送数据。  
    * 面向字节流 ， TCP 中 “流” 指的是流入到进程或从进程流出的字节序列 。
* TCP 的流量控制
    * 发送方的发送窗口不能超过接收方给出的接受窗口的数值。
    * 接受方 A 向发送方 B 发送了零窗口的报文段不久之后，B 的接收缓存又有了一些存储空间，于是 B 向 A 发送了 rwnd = 400 的报文段，然而这个报文段在传送过程中丢失了，A 一直等待收到 B 发送的非零窗口通知 ， 而 B 也一直等待 A 发送的数据，如果没有其他的措施，这种互相等待的死锁局面将一直延续下去 。
        * 答：为了解决这个问题， TCP 为每一个连接设有一个持续计时器 ， 只要 TCP 连接的一方收到对方的零窗口通知，就启动持续计时器，若持续计时器设置的时间到期，就发送一个零窗口探测报文段（仅携带 1 字节的数据）。
* TCP 拥塞控制：
    * 方法：慢开始、拥塞避免、快重传、快恢复
    * 发送方让自己的发送窗口等于拥塞窗口
    * 判断网络拥塞的依据就是出现了超时
    * 慢算法：
        * 当主机开始发送数据时，由于并不清楚网络的负荷情况，所以如果立即把大量数据字节注入到网络，那么就有可能引起网络发送拥塞。经验证明，较好的方法是先探测一下，即有小到大逐渐增大发送窗口，也就是说，由小到达逐渐增大拥塞窗口数值。
* 拥塞算法：
    * 是让拥塞窗口 cwnd 缓慢地增大， 即没经过一个往返时间 RTT 就把发送方的拥塞窗口 cwnd 加1 ， 而不是像慢开始阶段那样加倍增长 。 
* 快重传：
    * 防止因发送方迟迟收不到确认，就会产生超时，就会误认为网络发生了拥塞，错误的启动慢开始，把拥塞窗口 cwnd 又设置为 1 ，因而降低了传输效率 。
* 快重传算法
    * 首先要求接收方不要等待自己发送数据时才进行捎带确认，而是要立即发送确认，即使收到了失序的报文段也要立即发出对已收到的报文段的重复确定。快重传算法规定，发送方只要一连收到 3 个重复确认，就知道接收方确实没有收到报文段，因而应当立即进行重传，这样就不会出现超时，发送方也就不会误认为出现了网络拥塞，使用快重传可以使整个网络的吞吐量提高约 20% 。 
* 快恢复：
    * 发送方知道现在只是丢失了个别的报文段，于是不启动慢开始，而是执行快恢复算法，发送方调整门限值，并开始执行拥塞避免算法。也有的快恢复是把开始时的拥塞算法  cwnd 值再增大一些 ， 这样做的理由是：既然发送方收到 3 个重复的确认，就表明有 3 个分组已经离开了网络，这 3 个分组不再消耗网络的资源而是停留在接收方的缓存中，可见现在网络中并不是堆积了分组而是减少了 3 个分组，因此可以适当把拥塞窗口扩大些 。 
TCP的连接建立
三报文握手
TCP 连接释放
四报文握手

## 第六章：应用层
* 概念掌握：P319-321 本章重点概念，了解各应用层协议所使用的传输层服务（TCP/UDP）
* 理解与应用：Telnet 协议、FTP协议的基本特点，DNS协议、HTTP协议的基本原理，socket通信中常用的系统调用（P310-311、图6-31）
* DNS 协议
    * 域名中的标号都是英文字母和数字组成，每一个标号不超过 63 个字符 ， 也不区分大小写字母。标号中除连字符(-)外不能使用其他的标点符号。由多个标号组成的完整域名总共不超过 255 个字符。
    * 域名解析
    * 递归查询
    * 迭代查询
    * 高速缓存：用来存放最近查询过的域名以及从何处获得域名映射信息的记录。
* 文件传送协议 FTP ：
    * FTP 的主要功能是减少或消除在不同的操作系统下处理文件的不兼容性 。 
    * FTP 使用客户服务器方式    
    * 一个 FTP 服务器进程可同时为多个客户进程提供服务 。
    * FTP 的服务器进程由两个部分组成：一个主进程，负责接受新的请求 ； 另外有若干个从属进程，负责处理单个请求。
* TELNET 终端仿真协议
    * 和 FTP 的情况相似， 服务器中的主进程等待新的请求，并产生从属进程来处理每一个连接。
    * TELNET 定义了数据和命令应怎样通过互联网，这些定义就是所谓的网络虚拟终端 NVT ，客户软件把用户的击键和命令转换成 NVT 格式 ，并送交服务器，服务器软件把收到的数据和命令从 NVT 格式转换成远地系统所需的格式 ， 向用户返回数据时，服务器把远地系统的格式转换为 NVT 格式 ， 本地客户再从 NVT 格式转换到本地系统所需的格式 。
 
附：常用缩略词解释
ATM： Asynchronous Transfer Mode异步传输模式
CDMA： Code Division Multiple Access码分多路访问  
VPN：Virtual Private Networks虚拟私有网络
MAC：Medium Access Control介质访问控制   
WWW ：World Wide Web万维网     
GPS: global positioning protocol 全球定位系统 
DNS： Domain Name System域名系统   
ISP： Internet Service Provider 互联网服务提供者
LAN： Local Area Network局域网  
VLAN ：Virtual Local Area Network虚拟局域网 
MAN：metropolitan area network 城域网   
WAN：wild area network 广域网 
WLAN: wireless local area network 无线局域网   
FDM： Frequency Division Multiplexing，频分多路复用 
TDM： Time Division Multiplexing，时分多路复用   
OSI/RM: Open Systems Interconnection Reference Model，开放系统互连参考模型 
ISO：international standards organization  国际标准化组织   
FTP： File Transfer Protocol，文件传输协议  
HTTP： Hyper Text Transfer Protocol，超文本传输协议 
TCP： Transmission Control Protocol，传输控制协议 
UDP： User Datagram Protocol，用户数据报协议  
SMTP： Simple Mail Transfer Protocol，简单邮件传输协
SNMP： Simple Network Management Protocol，简单网络管理协议
ICMP： Internet Control Message Protocol，Internet控制消息协议  
IGP：Interior Gateway Protocol，内部网关协议 
IP：Internet Protocol，网络互联协议 
PPP： Point-to-Point Protocol，点到点协议  
SAP： Service Access Point，服务访问点
CRC :Cyclic Redundancy Check，循环冗余校验码
FTTx: Fiber To The x 光纤到x
FTTB：Fiber To The Building 光纤到大楼
FTTH：Fiber To The Home 光纤到户
FTTD：Fiber To The Desk 光纤到桌面
CSMA/CD：Carrier Sense Multiple Access with Collision Detection，载波监听多点接入/碰撞检测

